# 변수 (22.02.11 작성)

오늘은 변수에 대해 자세하게 공부했다.

전에는 그냥 코드를 줄이기 위해서 변수를 사용했다.

이 책에서는 변수는 어디에 저장이 되고 어떻게 사용하고 아주 상세하게 나와있다.

그래서 그런지 다 아는 내용임에도 불구하고 새로운 것들을 배운다는 것에 매우 설레고

모든 것을 이해하지 못하고 코드를 작성했던 나를 반성도 했다.

**식별자**

변수 이름을 식별자라고 부른다.

**식별자란?** **어떤 값을 구별해서 식별할 수 있는 고유한 이름을 말한다.**

식별자는 값이 아니라 메모리 주소를 기억하고 있다.

메모리 주소는 값을 기억한다.

하지만 변수는 메모리 주소를 기억하고 그 메모리 주소에서 값을 찾아낸다

변수 → 메모리 주소 → 값

변수, 함수, 클래스 등의 이름은 모두 식별자다.

그냥 메모리 상에 존재하는 어떤 값을 식별할 수 있는 이름은 모두 식별자라고 부른다.

변수 선언 _ 변수를 생성하다.

변수 선언 이란 변수를 생성하는 것을 말한다.

값을 저장하기 위한 메모리 공간을 확보하고 변수 이름과 확보된 메모리 공간의 주소를 연결해서

값을 저장할 수 있게 준비하는 것이다.

변수를 선언할 때는 var, let, const 키워드를 사용한다.

**키워드란? 자바스크립트 코드를 해석하고 실행하는 자바스크립트 엔진이 수행할 동작을 규정한 일종의 명령어**

****

변수를 선언하고 변수에 값을 할당하지 않으면 메모리 공간은 비어 있을 것으로 생각할 수 있다.

하지만 확보된 공간에는 자바스크립트 엔진에 의해 **undefined라는** 값이 할당되어 초기화된다.

이것은 자바스크립트의 독특한 특징이다.

변수 이름을 비롯한 모든 식별자는 실행 컨텍스트에 등록된다.

****

**실행 컨텍스트란?**

**자바스크립트 엔진이 소스코드를 평가하고 실행하기 위해 필요한 환경을 제공하고 코드의 실행 결과를 실제로 관리하는 영역**

****

변수를 선언하려면 반드시 선언이 필요하다.

선언하지 않은 식별자에 접근하면 ReferenceError(참조 에러) 가 발생한다.

자바스크립트 엔진이 등록된 식별자를 찾을 수 없을 때 발생하는 에러다.

![https://postfiles.pstatic.net/MjAyMjAyMTFfNzUg/MDAxNjQ0NTUyNzcwMTY3.ROfSL8hklgRUACvC1uDxNAsu3dB90Oi1ULPPFpFRgfEg.bcG1s9d1AZtjvJxSEgdpMbwTEOETMtdp8e3AGoaYwbUg.JPEG.yayatoure20/ReferenceError.JPG?type=w773](https://postfiles.pstatic.net/MjAyMjAyMTFfNzUg/MDAxNjQ0NTUyNzcwMTY3.ROfSL8hklgRUACvC1uDxNAsu3dB90Oi1ULPPFpFRgfEg.bcG1s9d1AZtjvJxSEgdpMbwTEOETMtdp8e3AGoaYwbUg.JPEG.yayatoure20/ReferenceError.JPG?type=w773)

ReferenceError(참조 에러)

****

**변수 선언의 실행 시점과 변수 호이스팅**

console.log(kim); // undefined

var kim; // 변수 선언문

위에 코드를 봤을 때 결과는 어떻게 나올까?

자바스크립트는 인터프리터에 의해 한 줄씩 순차적으로 실행된다.

그렇게 되면 console.log(kim) 이 먼저 실행되면 변수 선언문은 나중에 실행된다.

따라서 실행되는 시점에는 선언이 실행되지 않았으므로 ReferenceError(참조 에러) 가 발생한다고 생각하지만 undefined 가 출력된다.

그 이유는 변수 선언은 소스코드가 한 줄씩 순차적으로 실행되는 런타임이 아니라 그 이전 단계에서 먼저 실행된다.

자바스크립트 엔진은 변수 선언을 포함한 모든 선언문 (변수, 함수 선언문 등)을 소스코드에서 찾아내서 먼저 실행한다.

평가 과정이 끝나면 선언문을 제외하고 소스코드를 한 줄씩 순차적으로 실행한다.

즉 정리하자면 변수 선언이 소스코드의 어디에 있든 상관없이 다른 코드보다 먼저 실행된다.

이처럼 변수 선언문이 제일 먼저 동작하는 것은 자바스크립트 고유의 특징 변수 호이스팅 이다.

var , let , const , function , class 모두 호이스팅 된다.

하지만 값의 할당의 실행 시점은 다르다.

변수 선언은 소스코드가 순차적으로 실행되는 시점인 런타임 이전에 먼저 실행되지만

값의 할당은 소스코드가 순차적으로 실행되는 런타임에 실행된다.

console.log(color); //런타임에 맞춰서 실행 됨 2 

var color; //런타임 이전에 실행 됨 1
color = 'red' // 런타임에 맞춰서 실행 됨 3

//출력 결과 : undefined

위에 코드처럼 줄의 순서만 다를 뿐 변수 선언문이 첫 번째로 실행되지만 런타임의 맞춰 선언문 다음에는

console.log(color) 가 먼저 실행된다. 그러다 보니 콘솔 창에는 undefined가 출력된다.

메모리 공간에 undefined가 저장되어 있을 것이다. 그럼 그 메모리 공간에 'red'가 저장되는 것일 까?

답은 아니다 'red'는 다른 메모리 공간에 저장된다.

또한 var 키워드는 재할당 가능하다.

재할당이란 이미 값이 할당되어 있는 변수에 새로운 값을 또다시 할당하는 것을 의미한다.

var color = 'red'; // 변수 선언과 값의 할당
color = 'blue'; // 값의 재 할당

위의 코드처럼 변수에 값을 재할당 할 수 있다.

var 키워드로 선언한 변수는 선언과 동시에 undefined로 초기화된다.

그럼으로 첫 번째 코드도 엄밀히 말하자면 재할당이다.

재할당을 못하는 키워드도 있다.

const라는 키워드이다. 이는 상수라고 불린다. 값을 재할당 할 수 없다.

위의 코드는 값이 'red'가 저장되어 있던 메모리 공간을 지우고 그 메모리 공간에 'blue'를 새롭게 저장하는 것이 아니라

새로운 메모리 공간을 확보하고 그 메모리 공간에 'blue'를 저장한다.

그럼 undefined와 'red'를 사용하지 않는데 메모리 공간만 차지하는 나쁜 애들이 된다.

자바스크립트는 가비지콜렉터를 통해 사용하지 않는 메모리들은 메모리에서 자동 해제된다.

왜냐하면 자바스크립트는 매니지드 언어이다.

프로그래밍 언어는 메모리 관리 방식에 따라 언 매니지드 언어와 매니지드 언어로 분류한다.

대표적인 언 매니지드 언어는 C, C++이다.

이 언어들은 할당과 해제를 통한 메모리 관리를 신경 써야 한다. **※매우 귀찮을 거 같음.**

하지만 매니지드 언어에 비해 속도가 빠르고 프로그래밍의 자유도가 높다.

매니지드 언어는 대표적으로 자바스크립트, C#, Java 가 있다.

메모리 할당과 해제를 통한 메모리를 언어 자체적으로 관리를 해준다.

메모리의 구체적인 관리를 할 수 없기에 프로그래밍의 자유도가 낮아진다.

즉 개발자의 직접적인 메모리 제어를 허용하지 않는다.

**식별자 네이밍 규칙**

식별자는 네이밍 규칙을 준수해야 한다.

※ 식별자는 특수문자를 제외한 문자, 숫자, 언더 스코어(_), 달러 기호($)를 포함할 수 있다.

※ 숫자로 시작하는 것은 허용되지 않는다.

※ 예약어는 식별자로 사용할 수 없다.

예약어는 프로그래밍언어에서 사용하고 있거나 사용될 예정인 단어를 말한다.

예를 들어 let, const, return, var 등은 사용이 불가하다.

편하게 이해하자면 저작권이 없다고 생각하면 이해하기 편하다.

var main-color; // 특수문자는 달러기호와 언더스코어만 사용할수 있음 ex. main_color
var 1st; // 숫자는 먼저 시작할수없음
var this; // this는 자바스크립트의 예약어

그리고 자바스크립트는 대소문자를 구분한다.

var main_color;
var main_Color;
var MAIN_COLOR;

// 모두 다른 별개의 변수

항상 말하지만 변수 이름은 존재 목적을 쉽게 이해할 수 있도록 의미를 명확하게 표현해야 한다.

네이밍 컨벤션이란 하나 이상의 영어 단어로 구성된 식별자를 만들 때 가독성 좋게 단어를 한눈에 구분하기 위해 규정한 명명 규칙이다.

var mainColor; // 카멜 케이스 (camelCase)

var main_color; // 스네이크 케이스 (snake_case)

var MainColor // 파스칼 케이스 (PascalCase)

var $main = document.getElementbyId('main_text'); // DOM 노트

위의 4가지 유형의 네이밍 컨벤션이 자주 사용된다.